{
  "process_graph":
  {

    "dc": {
        "process_id": "load_collection",
        "description": "Loading the data; The order of the specified bands is important for the following reduce operation.",
        "arguments": {
            "id": "S2MSI2A",
            "spatial_extent": {
                "west": 16.1,
                "east": 16.6,
                "north": 48.6,
                "south": 47.2
            },
            "temporal_extent": [
                "2018-06-04T00:00:00.000Z",
                "2018-06-23T00:00:00.000Z"
            ],
            "bands": ["B8"]
        }
    },
    "mintime": {
        "process_id": "reduce_dimension",
        "description": "Compute a min time composite by reducing the temporal dimension",
        "arguments": {
            "data": {"from_node": "dc"},
            "dimension": "temporal",
            "reducer": {
                "process_graph": {
                    "min": {
                        "process_id": "median",
                        "arguments": {
                            "data": {"from_parameter": "data"}
                        },
                        "result": true
                    }
                }
            }
        }
    },
    "aggreg1": {
        "process_id": "aggregate_spatial",
        "description": "aggregate polygon using mean value",
        "arguments": {
            "data": {"from_node": "mintime"},
            "geometries": {
                "type": "FeatureCollection",
                "crs": {
                    "type": "name",
                    "properties": {
                        "name": "urn:ogc:def:crs:OGC:1.3:CRS84"
                    }
                },
                "features": [
                    {
                        "type": "Feature",
                        "properties": {
                            "label": 1
                        },
                        "geometry": {
                            "type": "Polygon",
                            "coordinates": [
                                [
                                    [16.138916,48.320647],
                                    [16.524124,48.320647],
                                    [16.524124,48.1386],
                                    [16.138916,48.1386],
                                    [16.138916,48.320647]
                                ]
                            ]
                        }
                    }
                ]
            },
            "reducer": {
                "process_graph": {
                    "mean1": {
                        "process_id": "mean",
                        "arguments": {
                            "data": {"from_parameter": "data"}
                        },
                        "result": true
                    }
                }
            }
        }
    },
    "save": {
        "process_id": "save_result",
        "arguments": {
            "data": {"from_node": "aggreg1"},
            "format": "JSON"
        },
        "result": true
    }
  }
}
